### MQTT

MQTT：轻量级、发布订阅消息传输协议、低带宽环境、机器与机器之间交互

#### QOS

- 至多一次（**qos = 0**），可能会出现丢包的现象。使用在对实时性要求不高的情况。这一级别可应用于如下情景，如环境传感器数据，丢失一次读记录无所谓，因为很快下一次读记录就会产生。
- 至少一次（**qos = 1**），保证包会到达目的地，但是可能出现重包。
- 正好一次（**qos = 2**），保证包会到达目的地，且不会出现重包的现象。这一级别可用于如计费系统等场景，在计费系统中，消息丢失或重复可能会导致生成错误的费用。

#### 订阅主题的通配符使用

主题还可以通过通配符进行过滤。其中，+可以过滤一个层级，而#只能出现在主题最后表示过滤任意级别的层级。值得注意的是***MQTT允许使用通配符订阅主题，但是并不允许使用通配符广播***。

building-b/floor-5：代表B楼5层的设备。

+/floor-5：代表任何一个楼的5层的设备。

building-b/#：代表B楼所有的设备。

+只能匹配一层，而#可以匹配多层，即building-b/#可以匹配building-b/1，也可以匹配building-b/1/1/1





